(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-437fc5ea"],{"27b9":function(e,t,r){"use strict";var s=r("c7e9"),n=r.n(s);n.a},"369c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-mid",attrs:{id:"user-followers"}},[r("UserInfo",{attrs:{user:e.user},on:{"after-handle-follow":e.afterHandleFollow,"after-handle-unfollow":e.afterHandleUnfollow}}),r("UserNavTab",{attrs:{userId:e.user.id}}),r("UserFollowerList",{attrs:{userName:e.user.name,userId:e.user.id,followers:e.user.followers}})],1)},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("ade3")),i=(r("96cf"),r("1602")),a=r("dac6"),l=r("d5f8"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"user-following-list"}},[r("h6",{attrs:{id:"follows"}},[e._v(e._s(e.userName)+" is followed by")]),e._l(e.followers,(function(t){return r("div",{key:t.id,staticClass:"card",attrs:{id:"follower-card"}},[r("div",{attrs:{id:"avatar-box"}},[r("router-link",{attrs:{to:"/users/"+t.id}},[r("img",{staticClass:"rounded-circle",attrs:{src:t.avatar,alt:"avatar",id:"avatar"}})])],1),r("div",{attrs:{id:"user-info"}},[r("router-link",{attrs:{to:"/users/"+t.id}},[r("h5",[e._v(e._s(t.name))]),r("p",[e._v(e._s(t.introduction))])])],1)])}))],2)},u=[],d=(r("a9e3"),{name:"UserFollowerList",props:{userName:{type:String,required:!0},userId:{type:Number,required:!0},followers:{type:Array,required:!0}}}),f=d,p=(r("4a5a"),r("2877")),h=Object(p["a"])(f,c,u,!1,null,"71eaf0e6",null),b=h.exports,w=r("2fa3"),v=r("2f62");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"UserFollowers",components:{UserInfo:a["a"],UserNavTab:l["a"],UserFollowerList:b},data:function(){return{user:{id:0,name:"",avatar:"",introduction:"",isAdmin:"",createdAt:"",updatedAt:"",followers:[],followings:[]},posts:[]}},methods:{getUserFollowers:function(e){var t,r,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(i["a"].getUserFollowings({userId:e}));case 3:if(t=n.sent,r=t.data,s=t.statusText,"OK"===s){n.next=8;break}throw new Error(s);case 8:this.user=O({},r.user,{followers:r.user.Followers,followings:r.user.Followings}),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),w["a"].fire({icon:"success",title:"無法取得追蹤者，請稍後再試！"});case 14:case"end":return n.stop()}}),null,this,[[0,11]])},afterHandleFollow:function(e){this.isAuthenticated?this.$store.dispatch("follow",e):w["a"].fire({icon:"info",title:"請登入來使用此功能！"})},afterHandleUnfollow:function(e){this.isAuthenticated?this.$store.dispatch("unfollow",e):w["a"].fire({icon:"info",title:"請登入來使用此功能！"})}},created:function(){var e=this.$route.params.id;this.getUserFollowers(e)},beforeRouteUpdate:function(e,t,r){var s=e.params.id;this.getUserFollowers(s),r()},computed:O({},Object(v["b"])(["currentUser","isAuthenticated"]))},_=m,y=Object(p["a"])(_,s,n,!1,null,null,null);t["default"]=y.exports},"4a5a":function(e,t,r){"use strict";var s=r("7da2"),n=r.n(s);n.a},7156:function(e,t,r){var s=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var o,i;return n&&"function"==typeof(o=t.constructor)&&o!==r&&s(i=o.prototype)&&i!==r.prototype&&n(e,i),e}},"7da2":function(e,t,r){},"89ad":function(e,t,r){"use strict";var s=r("b4aa"),n=r.n(s);n.a},a9e3:function(e,t,r){"use strict";var s=r("83ab"),n=r("da84"),o=r("94ca"),i=r("6eeb"),a=r("5135"),l=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,h=r("06cf").f,b=r("9bf2").f,w=r("58a8").trim,v="Number",g=n[v],O=g.prototype,m=l(f(O))==v,_=function(e){var t,r,s,n,o,i,a,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=w(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+c}for(o=c.slice(2),i=o.length,a=0;a<i;a++)if(l=o.charCodeAt(a),l<48||l>n)return NaN;return parseInt(o,s)}return+c};if(o(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,I=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof I&&(m?d((function(){O.valueOf.call(r)})):l(r)!=v)?c(new g(_(t)),r,I):_(t)},j=s?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;j.length>F;F++)a(g,y=j[F])&&!a(I,y)&&b(I,y,h(g,y));I.prototype=O,O.constructor=I,i(n,v,I)}},b4aa:function(e,t,r){},c7e9:function(e,t,r){},d5f8:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"links"}},[r("div",{staticClass:"link",class:Number.isInteger(+e.currentRoute.slice(-1))?"chosen":""},[r("router-link",{attrs:{to:"/users/"+this.userId}},[e._v("Profile")])],1),r("div",{staticClass:"link",class:e.currentRoute.includes("claps")?"chosen":""},[r("router-link",{attrs:{to:"/users/"+this.userId+"/claps"}},[e._v("Claps")])],1),r("div",{staticClass:"link",class:e.currentRoute.includes("highlights")?"chosen":""},[r("router-link",{attrs:{to:"/users/"+this.userId+"/highlights"}},[e._v("Highlights")])],1),r("div",{staticClass:"link",class:e.currentRoute.includes("responses")?"chosen":""},[r("router-link",{attrs:{to:"/users/"+this.userId+"/responses"}},[e._v("Responses")])],1)])},n=[],o=(r("a9e3"),{props:{userId:{type:Number,required:!0}},computed:{currentRoute:function(){return this.$route.path}}}),i=o,a=(r("89ad"),r("2877")),l=Object(a["a"])(i,s,n,!1,null,"0e27a351",null);t["a"]=l.exports},dac6:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"user-info"}},[r("div",{attrs:{id:"info"}},[r("div",{attrs:{id:"content"}},[r("h1",[e._v(e._s(e.user.name))]),e.isAuthenticated?[e.user.id===e.currentUser.id?r("router-link",{attrs:{to:"/users/edit"}},[r("span",{staticClass:"badge badge-success",attrs:{id:"edit"}},[e._v("Edit profile")])]):e.isFollowed?r("button",{staticClass:"badge badge-success",attrs:{disabled:e.isLoading},on:{click:function(t){return e.handleUnfollow(e.user.id)}}},[e._v(" following ")]):r("button",{staticClass:"badge badge-success",attrs:{disabled:e.isLoading},on:{click:function(t){return e.handleFollow(e.user.id)}}},[e._v(" Follow ")])]:e._e(),r("p",[e._v(e._s(e.user.introduction))])],2),r("div",[r("img",{staticClass:"rounded-circle",attrs:{src:e.user.avatar,alt:"avatar"}})])]),r("div",{attrs:{id:"follow"}},[r("router-link",{attrs:{to:"/users/"+this.user.id+"/followings"}},[e.user.followings.length?r("span",[e._v(e._s(e.user.followings.length)+" Following")]):e._e()]),r("router-link",{attrs:{to:"/users/"+this.user.id+"/followers"}},[e.user.followers.length?r("span",[e._v(e._s(e.user.followers.length)+" Followers")]):e._e()])],1),r("br")])},n=[],o=(r("a4d3"),r("4de4"),r("caad"),r("e439"),r("dbb4"),r("b64b"),r("2532"),r("159b"),r("ade3")),i={filters:{emptyImage:function(e){return e||"https://via.placeholder.com/350x220/DFDFDF?text=No+Image"}}},a=(r("1602"),r("2f62"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"UserInfo",mixins:[i],data:function(){return{isLoading:!1}},props:{user:{type:Object,required:!0}},methods:{handleFollow:function(e){this.isLoading=!0,this.$emit("after-handle-follow",e),this.isLoading=!1},handleUnfollow:function(e){this.isLoading=!0,this.$emit("after-handle-unfollow",e),this.isLoading=!1}},computed:c({},Object(a["b"])(["currentUser","isAuthenticated"]),{isFollowed:function(){return!!this.currentUser&&this.currentUser.followingUserId.includes(this.user.id)}})},d=u,f=(r("27b9"),r("2877")),p=Object(f["a"])(d,s,n,!1,null,"07357ca0",null);t["a"]=p.exports}}]);
//# sourceMappingURL=chunk-437fc5ea.9918f485.js.map