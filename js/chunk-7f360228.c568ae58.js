(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f360228"],{ad3b:function(t,e,n){"use strict";var s=n("e8b8"),r=n.n(s);r.a},c4be:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"user-stories-posts"}},[t.isLoading?n("AppPacmanLoader"):t._l(t.posts,(function(e){return n("div",{key:e.id,staticClass:"posts"},[n("router-link",{attrs:{to:"/posts/"+e.id,id:"posts-link"}},[n("h2",[t._v(t._s(e.title))]),n("p",[t._v(t._s(e.content))])]),n("span",[t._v("Published on "+t._s(e.monthDay)+" • "+t._s(e.readTime)+" "),n("font-awesome-icon",{attrs:{icon:["fas","chevron-down"],id:"chevron-down",role:"button","data-toggle":"dropdown"}}),n("div",{staticClass:"dropdown-menu"},[n("router-link",{staticClass:"dropdown-item",attrs:{to:"/posts/"+e.id+"/edit"}},[t._v("Edit Story")]),n("button",{staticClass:"dropdown-item",attrs:{"data-postid":e.id},on:{click:t.handleDeletePost}},[t._v(" Delete Story ")])],1)],1)],1)}))],2)},r=[],a=(n("c975"),n("d81d"),n("a434"),n("d3b7"),n("96cf"),n("3d20")),o=n.n(a),i=n("2fa3"),c=n("684b"),d=n("1602"),u=n("f74f"),l={name:"UserStoriesPosts",components:{AppPacmanLoader:u["a"]},data:function(){return{isLoading:!0,posts:[]}},created:function(){this.feachStories()},methods:{handleDeletePost:function(t){var e,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(o.a.fire({title:"您確定嗎？",text:"刪除的文章是回不來的喔！",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"取消",confirmButtonText:"刪除"}));case 2:e=s.sent,e.value&&(n=t.target.dataset.postid,this.afterHandleDeletePost(n));case 4:case"end":return s.stop()}}),null,this)},afterHandleDeletePost:function(t){var e,n,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(c["a"].deletePost(t));case 3:e=r.sent,n=e.data,"success"===n.status&&i["a"].fire({icon:"success",title:"文章刪除成功！"}),s=this.posts.map((function(t){return t.id})).indexOf(+t),this.posts.splice(s,1),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),i["a"].fire({icon:"error",title:"無法刪除文章，請稍後再試！"});case 13:case"end":return r.stop()}}),null,this,[[0,10]])},feachStories:function(){var t,e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,regeneratorRuntime.awrap(d["a"].gerUserStories());case 3:t=n.sent,e=t.data,this.posts=e.posts,this.isLoading=!1,n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),this.isLoading=!1,i["a"].fire({icon:"error",title:"無法取得文章，請稍後再試！"});case 13:case"end":return n.stop()}}),null,this,[[0,9]])}}},p=l,f=(n("ad3b"),n("2877")),h=Object(f["a"])(p,s,r,!1,null,"4df695ff",null);e["default"]=h.exports},e8b8:function(t,e,n){}}]);
//# sourceMappingURL=chunk-7f360228.c568ae58.js.map